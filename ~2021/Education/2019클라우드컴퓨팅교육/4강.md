- IaaS 필수 분석 : 컨테이너 인프라 분석
  - 학습 목표
    - 리눅스 컨테이너 특징에 대해 설명할 수 있음
    - LXC 특징과 구조에 대해 설명할 수 있음
    - Docker 특징과 LXC와의 차이점에 대해 설명할 수 있음
  - 학습 내용
    1. 리눅스 컨테이너 특징
    2. LXC 구조 및 특징
    3. Docker 구조 및 특징, LXC 와의 차이점
  - 리눅스 컨테이너 기술 분석
    - 서비스를 제공하는 입장에서 가용성을 올릴 수 있음
      - Hypervisor
    - 하나의 운영체제에서 서로 다른 Application 환경들을 어떻게 실행시킬 수 있는가?
    - 어플리케이션 실행에 부담이 없어야 한다.
      - Container가 적당
      - 위에 올라가는 어플리케이션은 동일한 운영체제 용 App만 가능
      - Container들이 되려면 리눅스 Application 만 올릴 수 있어
      - 하나의 운영체제에 반드시 종속적이어야 한다.
    - 왜 요즘 뜨는가?
      - 커널 level에서 컨테이너 기능을 지원하기 시작했기 때문에!
      - 리눅스 배포판에 따라 달라짐
    - 리눅스 컨테이너 
      - 일반 어플리케이션은 시스템 라이브러리를 활용
      - 컨테이너는 사용자가 쉘 명령어를 통해 컨테이너가 리눅스 커널 레벨 단의 서비스들을 직접 지원받는다는 차이가 존재!
      - OS의 privilege 모드 => 동작하는 모드가 다름 
        - 하드웨어적인 동작 방식이 다름
        - 일반적으로는 커널 단에 접근하기 힘듬
        - 하드웨어와 SW를 연관시켜서 봐야 함
      - 격리가 왜 중요한가?
        - 컨테이너에선 CPU의 prvileged 모드가 중요
        - 운영체제가 멈추면 큰일 남
        - 시스템 커널 레벨은 crticial 
          - 리눅스 컨테이너는 직접 제공을 받아
          - 컨테이너가 잘못 되면 시스템과는 상관이 없게 해당 자원 영역을 격리시키는 게 매우 중요
  - LXC vs Docker
    - LXC
      - 전통적인 리눅스 컨테이너
      - 현재는 Canonical에서 호스팅 중
      - 리눅스 커널에서 직접 지원하는데 그것에 접근하기 위한 인터페이스 등 다양한 도구를 합쳐 놓은 것
      - 컨테이너는 LXC 같은 중간 인터페이스를 이용
      - liblxc 라이브러리로만 접근 가능
      - 요즘에는 Go, python3 등 LXC와 바인딩되어서 가능
      - 컨테이너를 관리하는 도구들의 모음
      - 각각의 리눅스 배포판 별로 템플릿을 만들어 둠
        - lxc-busybox?
          - 임베디드 리눅스를 개발할 때 사용하는 툴이 busybox
          - 클라우드에서 경량화, 신속하게 제공하는 방법을 연구하다보니 나옴
        - 다양한 템플릿을 제공
    - LXD
      - not LXC
      - LXC를 편리하게 관리하는 매니저라 보자
      - Rest API를 적용하면 원격의 웹 인터페이스로 관리할 수 있게 한 부분
      - 중요 특징!
        - LXC의 privileged 말고 시스템에 덜 영향을 끼치는 unprivileged 컨테이너를 제공한다.
          - isolation 강화 등 
        - scalable -> 폭 넓게 사용 가능
        - 각각의 리소스를 좀 더 편리하게 관리 가능 
      - LXC 
        - 컨테이너를 관리하는 명령어 툴
      - LXD
        - liblxc를 통해 컨테이너를 관리하는 데몬 
      - docker
  - 가상화 방법은 계속 진화하고 있어
    - Application 가상화로 옮겨가는 추세
      - OS 가상화의 일부분만 
      - OS 전체를 가상화하지 않고도 같은 효과를 얻을 수 있음
    - 커널 기능들을 직접적으로 지원받을 수 있도록 함
  - 지금은 LXC 라이브러리를 쓰지 않는 Docker
    - 이미지 기반으로 움직임
    - 도커 Hub에 가입해서 수 많은 이미지들을 테스트할 수 있어 
    - 자체적인 Docker Registry를 구축해서 사용 가능 
  - LXC
    - init 프로세스가 있어 여러 프로세스 실행 가능
    - 하나의 컨테이너에 여러 개의 Application을 넣을 수 있어
  - Docker
    - 컨테이너가 단일 프로세스로 실행됨